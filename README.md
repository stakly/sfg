# Описание
Коммутатор Cisco MDS9000 series (например MDS 9148S 16G 48 FC) не поддерживает модули SFP+ сторонних
производителей и не позволяет изменить это в программном режиме, как например ethernet коммутаторы
с опцией 'service unsupported-transceiver'. Для работы сторонних модулей SFP+ необходимо менять
прошивку на модулях. Из чего она состоит, как ее генерировать и как прошивать расскажу далее.

# Структура памяти модулей SFP/SFP+
В спецификации MSA SFF-8472 [DRAFT SFF-8472 NCB.pdf](docs/DRAFT%20SFF-8472%20NCB.pdf)
можно найти всю информацию о структуре памяти. Если не вдаваться в детали,
то структура состоит из двух страниц A0h и A2h размером по 256 байт каждая.
![img.png](docs/sfp-memory.png)

## Страница A0h
...

## Страница A2h
...

## Описание некоторых блоков данных
![img.png](docs/cisco-fw-hexdump.png)

# Генерация прошивки
...

## Расчет контрольной суммы 8bit-mod256
...

## Расчет Cisco vendor specific полей
...  
MD5  
CRC32 (LE)

# Программа для генерации прошивки
[sfg.go](sfg.go) - простая реализация генератора прошивки в бинарном виде страницы A0h (0-127) на Golang.  
Готовую прошивку можно прошивать в модуль без дополнительных изменений.